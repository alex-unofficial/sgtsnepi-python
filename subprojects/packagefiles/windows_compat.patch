--- a/src/sgtsne.cpp
+++ b/src/sgtsne.cpp
@@ -13,7 +13,9 @@
 #include <cmath>
 #include <cstring>
 #include <algorithm>
+#ifndef _WIN32
 #include <unistd.h>
+#endif
 
 #include "sgtsne.hpp"
 #include "timers.hpp"
--- a/src/timers.hpp
+++ b/src/timers.hpp
@@ -11,7 +11,16 @@
 #include <iostream>
 #include <string>
 
+#ifdef _WIN32
+#include <windows.h>
+#include <time.h>
+typedef struct {
+    LARGE_INTEGER start;
+    LARGE_INTEGER freq;
+} timeval;
+#else
 #include <sys/time.h>
+#endif
 
 class Timer {
     private:
@@ -22,15 +31,30 @@ class Timer {
         Timer(std::string name_) : name(name_) {}
 
         void start() {
+#ifdef _WIN32
+            QueryPerformanceFrequency(&tv.freq);
+            QueryPerformanceCounter(&tv.start);
+#else
             gettimeofday(&tv, 0);
+#endif
         }
 
         double stop() {
+#ifdef _WIN32
+            LARGE_INTEGER end;
+            QueryPerformanceCounter(&end);
+            return (double)(end.QuadPart - tv.start.QuadPart) / (double)tv.freq.QuadPart;
+#else
             struct timeval tv2;
             gettimeofday(&tv2, 0);
             return (tv2.tv_sec - tv.tv_sec) + 1e-6 * (tv2.tv_usec - tv.tv_usec);
+#endif
         }
 
         void print() {
+#ifdef _WIN32
+            double elapsed = stop();
+            std::cout << name << ": " << elapsed << " sec" << std::endl;
+#else
             struct timeval tv2;
             gettimeofday(&tv2, 0);
             double elapsed = (tv2.tv_sec - tv.tv_sec) + 1e-6 * (tv2.tv_usec - tv.tv_usec);
             std::cout << name << ": " << elapsed << " sec" << std::endl;
+#endif
         }
 };
--- a/src/sgtsne.hpp
+++ b/src/sgtsne.hpp
@@ -22,7 +22,7 @@ extern "C" {
 
 const int QQd = 3;
 
-typedef struct {
+typedef struct SgtsneParams {
     /* sgtSNE-Pi parameters */
     int d;                /* embedding dimensionality */
     int L;                /* number of interpolation points per interval */
